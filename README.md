# Tmall-recommendation-case
赛题介绍    
根据用户 4 个月在天猫的行为日志，建立用户的品牌偏好，并预测他们在将   来一个月内对品牌下商品的购买行为。    
数据介绍:     

数据提供4个字段，user_id：用户ID；brand_id：品牌ID；    
type：用户对品牌的行为类型（包括点击、购买、加入购物车、收藏 4 种行为(点击：0 购买：1 收藏：2 购物车：3））          
visit_datetime：行为时间      
![Alt_text](https://github.com/liwenliang0/Tmall-recommendation-case/raw/master/image/data.png)    
解题思路:    
把这个问题转化为分类问题，二分类问题，即要判定某用户购买或未购买某品牌。   
给大家的数据是已经处理过的数据，在简单分析了数据后，发现数据是从2013-4-15到
2013-8-15的4个月的数据，那目标是预测2013-8-16至2013-9-15这一个月的用户品牌的
购买行为。     
由于只有4个月的数据，所以用滑动窗口的方式用2013-4-15至2013-6-15的数据提取特征，
然后用2013-6-16至2013-7-15的数据贴标签，形成训练集；    
用2013-5-15至2013-7-15的数据提取特征，然后用2013-7-16至2013-8-15的数据贴标签，
形成测试集。（这个的思路相当于用前2个月的行为来预测下一个月的购买行为）    
  
特征工程的构建：     

通过分析可以得出数据中存在3类特征：用户、品牌、用户与品牌的交互特征；对于这3类特征分别提取最近1,7,14,28，60天的点击、购买、加购和收藏的数量和最近60天的点击变购率、收藏变购率和加购变购率，总共65个特征  


训练模型和预测：       

由于训练集的正负样本比例相差很大，这样对于模型的学习和训练是不利的，从训练集中取出正负样本比例为1:5的样本来做为模型训练的训练集,然后通过随机森林等算法训练模型（决策树，随机森林，深度学习，GBDT，GBRT）。通过训练好的模型，对测试集进行预测，并模型融合。     

评价标准: F1值      
采用经典的精确度(precision)、召回率(recall)和F1值作为评估指标。具体计算公式如下：  
其中PredictionSet为算法预测的购买数据集合，ReferenceSet为真实的购买数据集合，  
以F1值作为最终的唯一评测标准。   
